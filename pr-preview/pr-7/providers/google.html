<!DOCTYPE html>
<html lang="en" data-accent-color="teal" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Google OAuth - litestar-oauth</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Discord OAuth" href="discord.html" /><link rel="prev" title="GitHub OAuth" href="github.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=83cb36c2" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=72a73842" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Google OAuth"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>litestar-oauth</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"><ul><li class="link">
          <a href="https://litestar.dev/">
            <span>Litestar</span></a>
        </li><li class="link">
          <a href="https://pypi.org/project/litestar-oauth/">
            <span>PyPI</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/JacobCoffee/litestar-oauth" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Learn</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/quickstart.html">Quickstart</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">OAuth Providers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="github.html">GitHub OAuth</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Google OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="discord.html">Discord OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="microsoft.html">Microsoft/Azure AD OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitlab.html">GitLab OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="twitter.html">Twitter/X OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="facebook.html">Facebook OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="linkedin.html">LinkedIn OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="bitbucket.html">Bitbucket OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic.html">Generic OAuth Provider</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/JacobCoffee/litestar-oauth">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/litestar-919193495116337154">Discord</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#creating-a-google-oauth-application">Creating a Google OAuth Application</a></li>
<li><a class="reference internal" href="#available-scopes">Available Scopes</a></li>
<li><a class="reference internal" href="#usage-example">Usage Example</a></li>
<li><a class="reference internal" href="#user-info-response">User Info Response</a></li>
<li><a class="reference internal" href="#openid-connect-oidc">OpenID Connect (OIDC)</a></li>
<li><a class="reference internal" href="#google-workspace-integration">Google Workspace Integration</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">litestar-oauth</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">OAuth Providers</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Google OAuth</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  


<div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="../_sources/providers/google.rst.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="../_sources/providers/google.rst.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="../_sources/providers/google.rst.txt" target="_blank" rel="nofollow">
          
            <iconify-icon icon="bi:code-slash"></iconify-icon>
            <span>View Source</span>
          
        </a>
        
        <a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20../_sources/providers/google.rst.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a>
        
        
        <a role="menuitem" href="https://claude.ai/new?q=Read%20../_sources/providers/google.rst.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a>
        
        
      </div>
    </div>
  </div>
</div>
<article class="yue" role="main">
          <section id="google-oauth">
<h1>Google OAuth<a class="headerlink" href="#google-oauth" title="Link to this heading">¶</a></h1>
<p>This guide covers setting up Google OAuth2 authentication with OpenID Connect support.</p>
<section id="creating-a-google-oauth-application">
<h2>Creating a Google OAuth Application<a class="headerlink" href="#creating-a-google-oauth-application" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Go to the <a class="reference external" href="https://console.cloud.google.com/">Google Cloud Console</a></p></li>
<li><p>Create a new project or select an existing one</p></li>
<li><p>Navigate to <strong>APIs &amp; Services</strong> → <strong>OAuth consent screen</strong></p></li>
<li><p>Configure the consent screen:</p>
<ul class="simple">
<li><p>Choose <strong>External</strong> for public apps or <strong>Internal</strong> for Google Workspace</p></li>
<li><p>Fill in the required fields (App name, User support email, Developer contact)</p></li>
<li><p>Add scopes: <code class="docutils literal notranslate"><span class="pre">openid</span></code>, <code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">profile</span></code></p></li>
</ul>
</li>
<li><p>Navigate to <strong>APIs &amp; Services</strong> → <strong>Credentials</strong></p></li>
<li><p>Click <strong>Create Credentials</strong> → <strong>OAuth client ID</strong></p></li>
<li><p>Select <strong>Web application</strong> as the application type</p></li>
<li><p>Add your redirect URI:</p>
<ul class="simple">
<li><p>For development: <code class="docutils literal notranslate"><span class="pre">http://localhost:8000/auth/google/callback</span></code></p></li>
<li><p>For production: <code class="docutils literal notranslate"><span class="pre">https://yourdomain.com/auth/google/callback</span></code></p></li>
</ul>
</li>
<li><p>Copy your <strong>Client ID</strong> and <strong>Client Secret</strong></p></li>
</ol>
</section>
<section id="available-scopes">
<h2>Available Scopes<a class="headerlink" href="#available-scopes" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Scope</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">openid</span></code></p></td>
<td><p>Required for OpenID Connect authentication</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">email</span></code></p></td>
<td><p>Access to user’s email address</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">profile</span></code></p></td>
<td><p>Access to basic profile information (name, picture)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">https://www.googleapis.com/auth/calendar.readonly</span></code></p></td>
<td><p>Read-only access to Google Calendar</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">https://www.googleapis.com/auth/drive.readonly</span></code></p></td>
<td><p>Read-only access to Google Drive</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGl0ZXN0YXIgUGx1Z2lu" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGl0ZXN0YXIgUGx1Z2lu" name="TGl0ZXN0YXIgUGx1Z2lu" role="tab" tabindex="0">Litestar Plugin</button><button aria-controls="panel-0-U3RhbmRhbG9uZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-U3RhbmRhbG9uZQ==" name="U3RhbmRhbG9uZQ==" role="tab" tabindex="-1">Standalone</button></div><div aria-labelledby="tab-0-TGl0ZXN0YXIgUGx1Z2lu" class="sphinx-tabs-panel group-tab" id="panel-0-TGl0ZXN0YXIgUGx1Z2lu" name="TGl0ZXN0YXIgUGx1Z2lu" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">Litestar</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">litestar_oauth.contrib.litestar</span><span class="w"> </span><span class="kn">import</span> <span class="n">OAuthPlugin</span><span class="p">,</span> <span class="n">OAuthConfig</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span>
</span><span data-line="5">    <span class="n">plugins</span><span class="o">=</span><span class="p">[</span>
</span><span data-line="6">        <span class="n">OAuthPlugin</span><span class="p">(</span>
</span><span data-line="7">            <span class="n">config</span><span class="o">=</span><span class="n">OAuthConfig</span><span class="p">(</span>
</span><span data-line="8">                <span class="n">redirect_base_url</span><span class="o">=</span><span class="s2">&quot;https://example.com&quot;</span><span class="p">,</span>
</span><span data-line="9">                <span class="n">google_client_id</span><span class="o">=</span><span class="s2">&quot;your-client-id.apps.googleusercontent.com&quot;</span><span class="p">,</span>
</span><span data-line="10">                <span class="n">google_client_secret</span><span class="o">=</span><span class="s2">&quot;your-client-secret&quot;</span><span class="p">,</span>
</span><span data-line="11">                <span class="n">google_scope</span><span class="o">=</span><span class="s2">&quot;openid email profile&quot;</span><span class="p">,</span>
</span><span data-line="12">            <span class="p">)</span>
</span><span data-line="13">        <span class="p">)</span>
</span><span data-line="14">    <span class="p">],</span>
</span><span data-line="15"><span class="p">)</span>
</span></pre></div>
</div>
</div><div aria-labelledby="tab-0-U3RhbmRhbG9uZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-U3RhbmRhbG9uZQ==" name="U3RhbmRhbG9uZQ==" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">litestar_oauth.providers</span><span class="w"> </span><span class="kn">import</span> <span class="n">GoogleOAuthProvider</span>
</span><span data-line="2">
</span><span data-line="3"><span class="n">provider</span> <span class="o">=</span> <span class="n">GoogleOAuthProvider</span><span class="p">(</span>
</span><span data-line="4">    <span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;your-client-id.apps.googleusercontent.com&quot;</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">client_secret</span><span class="o">=</span><span class="s2">&quot;your-client-secret&quot;</span><span class="p">,</span>
</span><span data-line="6">    <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;profile&quot;</span><span class="p">],</span>
</span><span data-line="7"><span class="p">)</span>
</span><span data-line="8">
</span><span data-line="9"><span class="c1"># Generate authorization URL</span>
</span><span data-line="10"><span class="n">auth_url</span> <span class="o">=</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_authorization_url</span><span class="p">(</span>
</span><span data-line="11">    <span class="n">redirect_uri</span><span class="o">=</span><span class="s2">&quot;https://example.com/auth/google/callback&quot;</span><span class="p">,</span>
</span><span data-line="12">    <span class="n">state</span><span class="o">=</span><span class="s2">&quot;random-state-token&quot;</span><span class="p">,</span>
</span><span data-line="13"><span class="p">)</span>
</span><span data-line="14">
</span><span data-line="15"><span class="c1"># After callback, exchange code for token</span>
</span><span data-line="16"><span class="n">token</span> <span class="o">=</span> <span class="k">await</span> <span class="n">provider</span><span class="o">.</span><span class="n">exchange_code</span><span class="p">(</span>
</span><span data-line="17">    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;authorization-code&quot;</span><span class="p">,</span>
</span><span data-line="18">    <span class="n">redirect_uri</span><span class="o">=</span><span class="s2">&quot;https://example.com/auth/google/callback&quot;</span><span class="p">,</span>
</span><span data-line="19"><span class="p">)</span>
</span><span data-line="20">
</span><span data-line="21"><span class="c1"># Get user info</span>
</span><span data-line="22"><span class="n">user_info</span> <span class="o">=</span> <span class="k">await</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_user_info</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
</span></pre></div>
</div>
</div></div>
</section>
<section id="user-info-response">
<h2>User Info Response<a class="headerlink" href="#user-info-response" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">OAuthUserInfo</span></code> object returned by Google contains:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">OAuthUserInfo</span><span class="p">(</span>
</span><span data-line="2">    <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;google&quot;</span><span class="p">,</span>
</span><span data-line="3">    <span class="n">oauth_id</span><span class="o">=</span><span class="s2">&quot;123456789012345678901&quot;</span><span class="p">,</span>  <span class="c1"># Google&#39;s unique user ID</span>
</span><span data-line="4">    <span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@gmail.com&quot;</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">email_verified</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span data-line="6">    <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># Google doesn&#39;t provide username</span>
</span><span data-line="7">    <span class="n">first_name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="p">,</span>
</span><span data-line="8">    <span class="n">last_name</span><span class="o">=</span><span class="s2">&quot;Doe&quot;</span><span class="p">,</span>
</span><span data-line="9">    <span class="n">avatar_url</span><span class="o">=</span><span class="s2">&quot;https://lh3.googleusercontent.com/a/...&quot;</span><span class="p">,</span>
</span><span data-line="10">    <span class="n">profile_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span data-line="11">    <span class="n">raw_data</span><span class="o">=</span><span class="p">{</span><span class="o">...</span><span class="p">},</span>  <span class="c1"># Complete response from Google</span>
</span><span data-line="12"><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="openid-connect-oidc">
<h2>OpenID Connect (OIDC)<a class="headerlink" href="#openid-connect-oidc" title="Link to this heading">¶</a></h2>
<p>Google fully supports OpenID Connect. When using the <code class="docutils literal notranslate"><span class="pre">openid</span></code> scope, the token
response includes an <code class="docutils literal notranslate"><span class="pre">id_token</span></code> containing verified claims:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">token</span> <span class="o">=</span> <span class="k">await</span> <span class="n">provider</span><span class="o">.</span><span class="n">exchange_code</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">)</span>
</span><span data-line="2"><span class="nb">print</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">id_token</span><span class="p">)</span>  <span class="c1"># JWT containing user claims</span>
</span></pre></div>
</div>
</section>
<section id="google-workspace-integration">
<h2>Google Workspace Integration<a class="headerlink" href="#google-workspace-integration" title="Link to this heading">¶</a></h2>
<p>For Google Workspace (formerly G Suite) users, you can restrict authentication
to your organization’s domain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">auth_url</span> <span class="o">=</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_authorization_url</span><span class="p">(</span>
</span><span data-line="2">    <span class="n">redirect_uri</span><span class="o">=</span><span class="s2">&quot;https://example.com/auth/google/callback&quot;</span><span class="p">,</span>
</span><span data-line="3">    <span class="n">state</span><span class="o">=</span><span class="s2">&quot;random-state-token&quot;</span><span class="p">,</span>
</span><span data-line="4">    <span class="n">extra_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;hd&quot;</span><span class="p">:</span> <span class="s2">&quot;yourdomain.com&quot;</span><span class="p">},</span>
</span><span data-line="5"><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><strong>Error: redirect_uri_mismatch</strong></dt><dd><p>The redirect URI in your request doesn’t match one of the authorized URIs
in the Google Cloud Console. Make sure the URI matches exactly, including
the protocol (http vs https) and trailing slashes.</p>
</dd>
<dt><strong>Error: access_denied</strong></dt><dd><p>The user denied the authorization request, or the app is not verified.
For testing, add yourself as a test user in the OAuth consent screen.</p>
</dd>
<dt><strong>Error: invalid_grant</strong></dt><dd><p>The authorization code has expired or has already been used. Codes are
single-use and expire after a few minutes.</p>
</dd>
</dl>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="github.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">GitHub OAuth</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="discord.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Discord OAuth</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2026, Jacob Coffee</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/JacobCoffee/litestar-oauth" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=30646c52"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=cac61aee"></script>
      <script src="../_static/tabs.js?v=3030b3cb"></script></body>
</html>